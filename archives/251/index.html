<!DOCTYPE HTML>
<html lang="zh-CN">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    <meta name="HandheldFriendly" content="true">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Maverick,ç†ŠçŒ«å°A,Galileo,blog" />
    <meta name="generator" content="Maverick 1.0" />
    <meta name="template" content="Galileo" />
    <link rel="alternate" type="application/rss+xml" title="æ— æ–‡å­— | ä¸‰æ— è®¡åˆ’ &raquo; RSS 2.0" href="https://blog.imalan.cn/feed/index.xml" />
    <link rel="alternate" type="application/atom+xml" title="æ— æ–‡å­— | ä¸‰æ— è®¡åˆ’ &raquo; ATOM 1.0" href="https://blog.imalan.cn/feed/atom/index.xml" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/assets/galileo-8b8364b2fe.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/assets/ExSearch/ExSearch-182e5a8868.css">
    <link href="https://fonts.googleapis.com/css?family=Fira+Code&display=swap" rel="stylesheet">
    <script>
        var ExSearchConfig = {
            root: "",
            api: "https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/dcc49901969c8b365e60574dbce4b494.json"
        }
    </script>
    
<title>Gulp å…¥é—¨è®° - æ— æ–‡å­— | ä¸‰æ— è®¡åˆ’</title>
<meta name="author" content="ç†ŠçŒ«å°A" />
<meta name="description" content="Gulp æ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ï¼Œæœ¬æ–‡èŠèŠæˆ‘çš„ä¸Šæ‰‹è¿‡ç¨‹ã€‚" />
<meta property="og:title" content="Gulp å…¥é—¨è®° - æ— æ–‡å­— | ä¸‰æ— è®¡åˆ’" />
<meta property="og:description" content="Gulp æ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ï¼Œæœ¬æ–‡èŠèŠæˆ‘çš„ä¸Šæ‰‹è¿‡ç¨‹ã€‚" />
<meta property="og:site_name" content="æ— æ–‡å­— | ä¸‰æ— è®¡åˆ’" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.imalan.cn/archives/251/" />
<meta property="og:image" content="" />
<meta property="article:published_time" content="2019-01-23T23:48:00-00.00" />
<meta name="twitter:title" content="Gulp å…¥é—¨è®° - æ— æ–‡å­— | ä¸‰æ— è®¡åˆ’" />
<meta name="twitter:description" content="Gulp æ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ï¼Œæœ¬æ–‡èŠèŠæˆ‘çš„ä¸Šæ‰‹è¿‡ç¨‹ã€‚" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="" />


    
<meta http-equiv="x-dns-prefetch-control" content="on">
<link rel="dns-prefetch" href="//cdn.jsdelivr.net" />
<link rel="dns-prefetch" href="//blog.imalan.cn" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/brand_font/embed.css" />
<style>.brand{font-family:FZCuJinLFW,serif;font-weight: normal!important;}</style>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon" sizes="180x180" href="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/apple-touch-icon.png?v=PY43YeeEKx">
<link rel="icon" type="image/png" sizes="32x32" href="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/favicon-32x32.png?v=yyLyaqbyRG">
<link rel="icon" type="image/png" sizes="16x16" href="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/favicon-16x16.png?v=yyLyaqbyRG">
<link rel="mask-icon" href="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/safari-pinned-tab.svg?v=yyLyaqbyRG" color="#505050">
<link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/favicon.ico?v=yyLyaqbyRG">
<meta name="application-name" content="ä¸‰ç„¡è¨ˆåŠƒ">
<meta name="apple-mobile-web-app-title" content="ä¸‰ç„¡è¨ˆåŠƒ">
<meta name="msapplication-TileColor" content="#000000">
<meta name="theme-color" content="#000000">
<meta name="baidu-site-verification" content="9BEwwo6Ibg" />

    </head>
    
    <body>
        
            <div id="bg" style="background-image: url(https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/bg/The_Great_Wave_off_Kanagawa.jpg)"></div>
        
        <div class="container">
            <header id="ga-header">
                <div first>
                    <aside id="ga-logo">
                        <a href="https://blog.imalan.cn/" target="_self">
                            <img src="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/android-chrome-512x512.png" alt="æ— æ–‡å­— | ä¸‰æ— è®¡åˆ’">
                        </a>
                    </aside>
                    <aside id="ga-brand">
                        <h1 class="brand"><a class="no-style" href="https://blog.imalan.cn/">æ— æ–‡å­— | ä¸‰æ— è®¡åˆ’</a></h1>
                        <p>åªåšæŒä¸€ç§æ­£ä¹‰ã€‚æˆ‘çš„æ­£ä¹‰ã€‚</p>
                    </aside>
                </div>
                <div second id="ga-nav">
                    <nav class="navs">
                        <ul><li><a class="ga-highlight" href="https://blog.imalan.cn/" target="_self">é¦–é¡µ</a></li><span class="separator">Â·</span><li><a class="ga-highlight" href="https://blog.imalan.cn/archives/" target="_self">å½’æ¡£</a></li><span class="separator">Â·</span><li><a class="ga-highlight" href="https://blog.imalan.cn/links/" target="_self">å‹é“¾</a></li><span class="separator">Â·</span><li><a class="ga-highlight" href="https://blog.imalan.cn/about/" target="_self">å…³äº</a></li><span class="separator">Â·</span><li><a href="#" target="_self" class="search-form-input ga-highlight">æœç´¢</a></li></ul>
                    </nav>
                    <nav class="social-links">
                        <ul><li><a class="no-style" title="Twitter" href="https://twitter.com/AlanDecode" target="_blank"><i class="gi gi-twitter"></i>Twitter</a></li><span class="separator">Â·</span><li><a class="no-style" title="GitHub" href="https://github.com/AlanDecode" target="_blank"><i class="gi gi-github"></i>GitHub</a></li><span class="separator">Â·</span><li><a class="no-style" title="Weibo" href="https://weibo.com/5245109677/" target="_blank"><i class="gi gi-weibo"></i>Weibo</a></li></ul>
                    </nav>
                </div>
            </header>
            <div class="wrapper">
                
<main>    
    <section class="ga-section" id="ga-content">
        <article class="yue">
            <h1 class="ga-post_title">Gulp å…¥é—¨è®°</h1>
            <span class="ga-post_meta ga-mono">
                <span>ç†ŠçŒ«å°A</span>
                <time>
                    2019-01-23
                </time>
                
                in <a no-style class="category" href="https://blog.imalan.cn/category/å¶å°”Geek/">
                    å¶å°”Geek
                </a>
                
                
            </span>
            <div class="ga-content_body">
                <p>æœ¬æ–‡ä»¥ä¸€ä¾‹ä»‹ç»æˆ‘ä¸Šæ‰‹ Gulp ä¹‹è¿‡ç¨‹ã€‚ä¸ä¹‹å‰çš„æ–‡ç« <a href="https://blog.imalan.cn/archives/243/">åˆè¯† Sass | SCSS</a>ç›¸åŒï¼Œè¿™ç¯‡æ–‡ç« ä¹Ÿæ˜¯å¼€å‘ VOID ä¸»é¢˜è¿‡ç¨‹çš„æŠ€æœ¯ç¬”è®°ã€‚</p>
<p>æˆ‘ä¸€ç›´éƒ½ä¸ºä¸€ä»¶äº‹æƒ…æ„Ÿåˆ°å¤´ç–¼ï¼šå‰ç«¯é¡¹ç›®çš„èµ„æºç¼“å­˜é—®é¢˜ã€‚é¡µé¢æœ‰æ‰€å˜åŒ–åï¼Œç†è®ºä¸Šå¯¹åº”çš„é™æ€èµ„æºä¾‹å¦‚ JSã€CSS ä¹Ÿåº”è¯¥ç«‹å³æ›´æ–°ï¼Œä½†å®é™…ä¸Šå¹¶ä¸é‚£ä¹ˆç®€å•ã€‚ç°ä»£æµè§ˆå™¨éƒ½æœ‰ç¼“å­˜æœºåˆ¶ï¼Œä½¿æµè§ˆå™¨ä¸ä¼šç«‹å³æ‹‰å–æœ€æ–°çš„é™æ€æ–‡ä»¶ï¼Œä»¥èŠ‚çœç½‘ç»œå¼€é”€ï¼›è‹¥ç«™ç‚¹å¯ç”¨äº† CDNï¼ŒCDN å±‚é¢ä¹Ÿæœ‰ç¼“å­˜æœºåˆ¶ï¼Œè€Œä¸”ä¸€èˆ¬ä¼šæ›´é•¿ï¼Œå¯¼è‡´è¯·æ±‚ä¸èƒ½åŠæ—¶å›æºã€‚ç»“æœå°±æ˜¯é¡µé¢æ˜¯æ–°é¡µé¢ï¼Œæ ·å¼ä¸ä¸šåŠ¡é€»è¾‘å´æ˜¯è€çš„ã€‚</p>
<p>ä¸€ç§è§£å†³æ–¹å¼æ˜¯é€šè¿‡åç¼€å‘ŠçŸ¥æµè§ˆå™¨åº”è¯¥åˆ·æ–°èµ„æºï¼š</p>
<div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/style/main.css?v=1.123&quot;</span><span class="p">&gt;</span>
</pre></div>
<p>å…¶ä¸­çš„ <code>?v=1.123</code> ä»£è¡¨äº†é™æ€èµ„æºçš„ç‰ˆæœ¬å·ï¼Œå¦‚æœæµè§ˆå™¨è¶³å¤Ÿèªæ˜çš„è¯ï¼Œä¸€æ—¦è¯¥ç‰ˆæœ¬å·æœ‰æ‰€å˜åŒ–å°±ä¼šé‡æ–°è¯·æ±‚èµ„æºï¼Œä½†å®é™…ä¸Šä¸åŒæµè§ˆå™¨çš„å¤„ç†æ–¹å¼ä¸åŒã€‚è€Œä¸”è®¸å¤š CDN å‚å•†å¯¹ v å‚æ•°æ˜¯å¿½ç•¥çš„ã€‚</p>
<p>å¦ä¸€ç§è§£å†³æ–¹æ³•æ˜¯æŠŠç‰ˆæœ¬å·å†™å…¥åˆ°æ–‡ä»¶è·¯å¾„ä¸­ï¼š</p>
<div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/style/main.1.123.css&quot;</span><span class="p">&gt;</span>
</pre></div>
<p>åœ¨ RAW ä¸»é¢˜ä¸ VOID çš„åˆæœŸå‡ ä¸ªç‰ˆæœ¬ä¸­æˆ‘å°±æ˜¯ç”¨çš„è¿™ç§æ–¹æ³•ã€‚è¿™æ˜¯ä¸€ç§å¯è¡Œçš„è§£å†³æ–¹æ³•ï¼Œå®ƒæ— è§†æµè§ˆå™¨çš„ç¼“å­˜æœºåˆ¶ï¼Œå› ä¸ºä¸€æ—¦ç‰ˆæœ¬å·å˜æ¢å°±ç›¸å½“äºèµ„æºè·¯å¾„å˜åŒ–ï¼Œè¿™æ ·ä¼šå¼ºåˆ¶æµè§ˆå™¨åˆ·æ–°ã€‚ä½†æœ‰ä¸€ç‚¹ä¸è¶³æ˜¯ä¸€æ—¦é¡¹ç›®ç‰ˆæœ¬å˜åŒ–ï¼Œä¸è®ºé™æ€èµ„æºæœ¬èº«æœ‰æ²¡æœ‰æ”¹åŠ¨ï¼Œå…¶è·¯å¾„éƒ½æœ‰æ”¹å˜ï¼Œè¿™å°±å¸¦æ¥äº†ä¸å¿…è¦çš„è¯·æ±‚å¼€é”€ï¼Œæ²¡æœ‰å……åˆ†åˆ©ç”¨æµè§ˆå™¨ç¼“å­˜ã€‚</p>
<p>ç›®å‰å¹¿æ³›é‡‡ç”¨çš„è§£å†³æ–¹å¼æ˜¯å°†æ–‡æœ¬æ‘˜è¦ç®—æ³•å¼•å…¥åˆ°é™æ€èµ„æºçš„ç‰ˆæœ¬ç®¡ç†ä¸­ï¼Œé¡µé¢ä¸­å¼•å…¥çš„é™æ€æ–‡ä»¶è·¯å¾„å½¢å¦‚ï¼š</p>
<div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/style/main-{{hash}}.css&quot;</span><span class="p">&gt;</span>
</pre></div>
<p>å…¶ä¸­ <code>{{hash}}</code> æŒ‡çš„æ˜¯æ–‡ä»¶çš„å“ˆå¸Œå€¼ã€‚å“ˆå¸Œä½œä¸ºæ–‡ä»¶çš„æ‘˜è¦ï¼Œä¸æ–‡ä»¶å†…å®¹å¯¹åº”ï¼Œæ–‡ä»¶æ”¹å˜å“ˆå¸Œæ”¹å˜ã€æ–‡ä»¶ä¸å˜å“ˆå¸Œä¸å˜ã€‚è¿™ç§æ–¹æ³•æ—¢è§£å†³äº†èµ„æºæ›´æ–°çš„é—®é¢˜ï¼Œä¹Ÿèƒ½å……åˆ†åˆ©ç”¨æµè§ˆå™¨ä¸ CDN ç¼“å­˜ã€‚å®é™…ä¸Šï¼Œä¸€æ—¦é‡‡ç”¨è¿™ç§æ–¹å¼ï¼Œå¯ä»¥ä¸ºèµ„æºè®¾ç½®å¾ˆé•¿çš„ç¼“å­˜è¿‡æœŸæ—¶é—´ã€‚</p>
<p>æˆ‘æœ€åˆæ¥è§¦ Gulp æ­£æ˜¯ä¸ºäº†è‡ªåŠ¨åŒ–åœ°å®ç°è¿™ä¸€è¿‡ç¨‹ã€‚</p>
<h2>ä»€ä¹ˆæ˜¯ Gulp</h2>
<p>Gulp æ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡åˆ¶å®šä¸€ç³»åˆ—è§„åˆ™ï¼ˆgulpfile.jsï¼‰æ¥æ­å»ºä¸€ä¸ªå¤„ç†çš„å·¥ä½œæµï¼ˆworkflowï¼‰ï¼Œè‡ªåŠ¨åŒ–æŸäº›é‡å¤æ€§å·¥ä½œï¼šä¾‹å¦‚ CSS é¢„å¤„ç†ã€å‹ç¼©ã€JS æ··æ·†åŠ å¯†ç­‰ç­‰ã€‚åŒæ—¶ Gulp æä¾›äº†å¤§é‡çš„æ’ä»¶å¸®åŠ©å¼€å‘è€…å®Œæˆè¿™ä¸€è¿‡ç¨‹ã€‚</p>
<p>é¦–å…ˆå®‰è£… NodeJSï¼Œä¹‹ååœ¨é¡¹ç›®ç›®å½•ä¸‹ä½¿ç”¨ <code>npm init</code> åˆå§‹åŒ–ä¸€ä¸ªé¡¹ç›®ã€‚ä¹‹åå®‰è£… Gulpï¼š</p>
<div class="highlight"><pre><span></span>npm install gulp --global
npm install gulp --save-dev
</pre></div>
<p>è¿™æ¡å‘½ä»¤ä¼šåœ¨å½“å‰ç›®å½•å®‰è£… gulpï¼Œå¹¶ä¸”å°†æ­¤ä¿¡æ¯ä¿å­˜åˆ° package.json ä¸­ä½œä¸ºå¼€å‘ä¾èµ–ã€‚åœ¨å½“å‰ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª gulpfile.jsï¼Œåœ¨å…¶ä¸­é”®å…¥ä»£ç ï¼š</p>
<div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">gulp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp&#39;</span><span class="p">);</span>

<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;defualt&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Hello World!&#39;</span><span class="p">);</span>
<span class="p">})</span>
</pre></div>
<p>ç„¶ååœ¨ç»ˆç«¯ä¸­è¿è¡Œ <code>gulp</code>ã€‚<code>gulp.task()</code> å£°æ˜äº†ä¸€ä¸ªåä¸º <code>default</code> çš„ä»»åŠ¡ï¼Œå®ƒçš„ä½œç”¨æ˜¯åœ¨æ§åˆ¶å°è¾“å‡º Hello Worldï¼Œè¿™å°±æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„ç¤ºä¾‹ï¼Œæˆ‘ä»¬è¦åšçš„ä¾¿æ˜¯æ ¹æ®éœ€è¦è‡ªå·±æ­å»º <code>function(){}</code> ä¸­çš„å†…å®¹ã€‚</p>
<p>Gulp ä¸­æœ‰ç®¡é“ï¼ˆpipeï¼‰çš„æ¦‚å¿µï¼Œå®ƒé¢å‘çš„æ˜¯ä¸€ä¸ªæ–‡ä»¶æµï¼ˆstreamï¼‰ã€‚ä¸€ä¸ªå…¸å‹çš„ Gulp ä»»åŠ¡åŒ…å«äº†è¿™æ ·çš„è¿‡ç¨‹ï¼šè¯»å–æºæ–‡ä»¶ â†’ æ‰§è¡Œæ“ä½œ 1 â†’ æ‰§è¡Œæ“ä½œ 2 â†’ Â·Â·Â· â†’ æ‰§è¡Œæ“ä½œ n â†’ è¾“å‡ºã€‚</p>
<p>å…¶ä¸­ï¼Œè¯»å–æºæ–‡ä»¶ä½¿ç”¨ <code>gulp.src</code> å®Œæˆï¼š</p>
<div class="highlight"><pre><span></span><span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">([</span><span class="s1">&#39;src/assets/libs/**/*.js&#39;</span><span class="p">]);</span>
</pre></div>
<p>è¿™è¡Œä»£ç å°† src/assets/libs ç›®å½•åŠå…¶å­ç›®å½•ä¸‹çš„æ‰€æœ‰ JS æ–‡ä»¶è¯»äº†è¿›æ¥ï¼Œç„¶åä»€ä¹ˆä¹Ÿæ²¡å¹²ã€‚ä¼ å…¥ <code>gulp.src()</code> çš„æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œå¯ä»¥ä½¿ç”¨å¤šç§åŒ¹é…æ¨¡å¼ã€‚ä¾‹å¦‚ï¼š</p>
<div class="highlight"><pre><span></span><span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">([</span><span class="s1">&#39;src/assets/libs/**/*.js&#39;</span><span class="p">,</span> <span class="s1">&#39;!src/assets/libs/mathjax&#39;</span><span class="p">,</span> <span class="s1">&#39;!src/assets/libs/mathjax/**/*&#39;</span><span class="p">])</span>
</pre></div>
<p>è¿™è¡Œä»£ç é™¤äº†åŠ è½½ src/assets/libs ç›®å½•åŠå…¶å­ç›®å½•ä¸‹çš„æ‰€æœ‰ JS æ–‡ä»¶ï¼Œè¿˜ä»ä¸­å‰”é™¤äº† src/assets/libs/mathjax å­ç›®å½•åŠå…¶ä¸‹çš„æ–‡ä»¶ã€‚</p>
<p>æ‰§è¡Œæ“ä½œä½¿ç”¨ <code>.pipe()</code> æ–¹æ³•ä¸²è”ï¼Œä¾‹å¦‚ï¼š</p>
<div class="highlight"><pre><span></span><span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">([</span><span class="s1">&#39;src/assets/libs/**/*.js&#39;</span><span class="p">])</span>
    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">task</span><span class="p">());</span>
</pre></div>
<p>ä¼ å…¥ <code>pipe()</code> çš„æ˜¯æŸä¸ªæ“ä½œã€‚è¿™ä¸ªæ“ä½œå¯ä»¥è‡ªå·±å®šä¹‰ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å®‰è£… Gulp æ’ä»¶è·å¾—ã€‚</p>
<p>è¾“å‡ºæ–‡ä»¶ä¹Ÿå±äºä¸€ç§æ“ä½œï¼Œå› æ­¤ä¹Ÿè¢«åŒ…è£¹åœ¨ <code>pipe()</code> æ–¹æ³•ä¸­ï¼š</p>
<div class="highlight"><pre><span></span><span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">([</span><span class="s1">&#39;src/assets/libs/**/*.js&#39;</span><span class="p">])</span>
    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">task</span><span class="p">())</span>
    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;build/&#39;</span><span class="p">));</span>
</pre></div>
<p>æœ€ç»ˆçš„ç»“æœä¾¿æ˜¯å°†é‚£äº› JS å¤„ç†åè¾“å‡ºåˆ° build æ–‡ä»¶å¤¹ä¸‹ã€‚</p>
<p>ä»¥ä¸Šæ˜¯å¯¹ Gulp çš„å¤§æ¦‚äº†è§£ï¼Œæ¥ä¸‹æ¥çœ‹çœ‹å¦‚ä½•ä½¿ç”¨ Gulp ä¸ºé™æ€æ–‡ä»¶åŠ ä¸Šå“ˆå¸Œæˆ³ï¼Œå¹¶ä¸”åŒæ—¶æ›¿æ¢é¡µé¢ä¸­çš„å¼•ç”¨è·¯å¾„ã€‚</p>
<h2>åˆ©ç”¨ Gulp ä¸ºé™æ€æ–‡ä»¶åŠ æˆ³</h2>
<p>Gulp ç¤¾åŒºæ˜¯å¾ˆå¼ºå¤§çš„ï¼Œå®ƒæä¾›äº†æ•°é‡å·¨å¤§çš„æ’ä»¶ä¾›å¼€å‘è€…ä½¿ç”¨ã€‚æœ¬ä¾‹ä¸­ï¼Œç”¨åˆ°äº† <code>gulp-rev</code> ä¸ <code>gulp-rev-collector</code> ä¸¤ä¸ªæ’ä»¶ã€‚</p>
<p>é¦–å…ˆå®‰è£… gulp ä¸è¿™ä¸¤ä¸ªæ’ä»¶ï¼Œåœ¨é¡¹ç›®ç›®å½•ä¸‹ï¼š</p>
<div class="highlight"><pre><span></span>npm install gulp-rev gulp-rev-collector --save-dev
</pre></div>
<p>ä¸ºäº†æ¸…é™¤æ—§ç‰ˆæ–‡ä»¶ä¸åˆ é™¤ä¸´æ—¶æ–‡ä»¶ï¼Œå†å®‰è£…ä¸€ä¸ªç”¨äºåˆ é™¤çš„æ’ä»¶ <code>del</code>ï¼š</p>
<div class="highlight"><pre><span></span>npm install del --save-dev
</pre></div>
<p>è®¾æœ‰å¦‚ä¸‹çš„ç›®å½•ç»“æ„ï¼š</p>

<pre><code>dev
   |-- app.js
   |-- app.css
   |-- index.html
build</code></pre>
<p>ç›®çš„æ˜¯å°† app.jsï¼Œapp.css åŠ å“ˆå¸Œæˆ³ï¼Œè¾“å‡ºåˆ° build ç›®å½•ä¸‹ï¼Œå¹¶æ›¿æ¢ index.html ä¸­å¯¹è¿™ä¸¤ä¸ªæ–‡ä»¶çš„å¼•ç”¨åœ°å€ä¸ºåŠ æˆ³åçš„è·¯å¾„ï¼Œå°†æ›¿æ¢åçš„ index.html ä¹Ÿè¾“å‡ºåˆ° build ç›®å½•ä¸‹ï¼Œå¦‚æ­¤å®ç°äº†å¼€å‘ç›®å½•ä¸æ„å»ºç›®å½•çš„åˆ†ç¦»ã€‚</p>
<p>å®¹æ˜“çœ‹å‡ºï¼Œè¿™æ˜¯ä¸¤ä¸ªæ­¥éª¤ã€‚ä¸€æ˜¯è®¡ç®—é™æ€æ–‡ä»¶çš„å“ˆå¸Œï¼Œå¹¶é‡å‘½åå®ƒä»¬ï¼›äºŒæ˜¯æ›¿æ¢ index.html ä¸­çš„å¼•ç”¨ã€‚å®é™…ä¸Š Gulp ä¹Ÿæ˜¯è¿™ä¹ˆå¤„ç†çš„ã€‚</p>
<p>é¦–å…ˆåœ¨ gulpfile.js ä¸­å¼•å…¥ Gulp ä¸å¯¹åº”æ’ä»¶ã€‚</p>
<div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">gulp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">rev</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-rev&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">revCollector</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-rev-collector&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">del</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;del&#39;</span><span class="p">);</span>
</pre></div>
<p>å£°æ˜ä¸€ä¸ªæ¸…ç†åŸ build æ–‡ä»¶å¤¹çš„ä»»åŠ¡ï¼š</p>
<div class="highlight"><pre><span></span><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;clean:build&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(){</span>
    <span class="k">return</span> <span class="nx">del</span><span class="p">([</span><span class="s1">&#39;build&#39;</span><span class="p">]);</span>
<span class="p">});</span>
</pre></div>
<p>å£°æ˜ä¸€ä¸ªåŠ æˆ³çš„ä»»åŠ¡ï¼š</p>
<div class="highlight"><pre><span></span><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;md5&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="k">return</span>  <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">([</span><span class="s1">&#39;dev/*.js&#39;</span><span class="p">,</span> <span class="s1">&#39;dev/*.css&#39;</span><span class="p">])</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">rev</span><span class="p">())</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;build/&#39;</span><span class="p">))</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">rev</span><span class="p">.</span><span class="nx">manifest</span><span class="p">())</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;temp/&#39;</span><span class="p">));</span>
<span class="p">});</span>
</pre></div>
<p>å°è¯•ä½¿ç”¨ <code>gulp md5</code> æ‰§è¡Œ <code>md5</code> è¿™ä¸ªä»»åŠ¡ï¼Œå¯ä»¥çœ‹åˆ°åˆæ­¥æœ‰ä¸€äº›å°å˜åŒ–ï¼Œç›®å½•å˜æˆäº†ï¼ˆçœç•¥äº†ä¸€äº›ä¸é‡è¦çš„ç›®å½•ï¼‰ï¼š</p>

<pre><code>dev
   |-- app.js
   |-- app.css
   |-- index.html
build
   |-- app-d41d8cd98f.js
   |-- app-d41d8cd98f.css
temp
   |-- rev-manifest.json</code></pre>
<p>ä¸€è€…ï¼Œbuild ç›®å½•ä¸‹å·²ç»ç”Ÿæˆäº†åŠ æˆ³çš„é™æ€æ–‡ä»¶ï¼ŒäºŒè€…ï¼Œå¤šå‡ºäº† temp/rev-manifest.json è¿™ä¸ªæ–‡ä»¶ã€‚æ‰“å¼€è¯¥æ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹å†…å®¹ï¼š</p>
<div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;app.css&quot;</span><span class="p">:</span> <span class="s2">&quot;app-d41d8cd98f.css&quot;</span><span class="p">,</span>
  <span class="nt">&quot;app.js&quot;</span><span class="p">:</span> <span class="s2">&quot;app-d41d8cd98f.js&quot;</span>
<span class="p">}</span>
</pre></div>
<p>å®é™…ä¸Šè¿™ä¸ªæ–‡ä»¶ä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜å‚¨äº†æ–‡ä»¶åçš„æ˜ å°„å…³ç³»ã€‚æ­£æ˜¯å› ä¸ºæœ‰è¿™ä¸ªæ–‡ä»¶æˆ‘ä»¬æ‰èƒ½è¿›è¡Œä¸‹ä¸€æ­¥ï¼šé™æ€èµ„æºå¼•ç”¨è·¯å¾„æ›¿æ¢ã€‚</p>
<p>åœ¨ gulpfile.js ä¸­å£°æ˜ä¸€ä¸ªæ›¿æ¢ä»»åŠ¡ï¼š</p>
<div class="highlight"><pre><span></span><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;replace&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="k">return</span>  <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">([</span><span class="s1">&#39;temp/*.json&#39;</span><span class="p">,</span> <span class="s1">&#39;dev/index.html&#39;</span><span class="p">])</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">revCollector</span><span class="p">())</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;build/&#39;</span><span class="p">));</span>
<span class="p">});</span>
</pre></div>
<p>æ‰§è¡Œè¿™ä¸ªä»»åŠ¡ï¼š<code>gulp replace</code>ï¼Œç›®å½•ç»“æ„å˜æ›´ä¸ºï¼š</p>

<pre><code>dev
   |-- app.js
   |-- app.css
   |-- index.html
build
   |-- app-d41d8cd98f.js
   |-- app-d41d8cd98f.css
   |-- index.html
temp
   |-- rev-manifest.json</code></pre>
<p><code>dev/index.html</code> ä¸­çš„å¼•ç”¨å½¢å¦‚ï¼š</p>
<div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;./app.css&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;./app.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
<p>è€Œ <code>build/index.html</code> ä¸­çš„å†…å®¹å½¢å¦‚ï¼š</p>
<div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;./app-d41d8cd98f.css&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;./app-d41d8cd98f.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
<p>å¯è§æ›¿æ¢å·²ç»æˆåŠŸäº†ã€‚</p>
<p>ä»¥ä¸Šé€šè¿‡æ‰‹åŠ¨æ‰§è¡Œæ¯ä¸ªä»»åŠ¡çœ‹åˆ°äº†æ•´ä¸ªè¿‡ç¨‹ã€‚æ˜¯æ—¶å€™å°†å®ƒä»¬ä¸²è”èµ·æ¥äº†ã€‚</p>
<h2>Gulp ä»»åŠ¡ä¸²è¡Œä¸å¹¶è¡Œ</h2>
<p>ä»¥ä¸Šçš„ä»»åŠ¡æ˜¯ä¸€ä¸ªæ˜æ˜¾çš„ä¸²è¡Œå…³ç³»ï¼šæ¸…ç† build ç›®å½• â†’ æ–‡ä»¶åŠ æˆ³è¾“å‡º â†’ å¼•ç”¨è·¯å¾„æ›¿æ¢è¾“å‡ºã€‚Gulp é»˜è®¤å¯¹æ‰€æœ‰çš„ä»»åŠ¡ä»¥æœ€å¤§å¹¶å‘çš„æ–¹å¼æ‰§è¡Œï¼Œè‹¥è¦å¾—åˆ°ä¸²è¡Œçš„ä»»åŠ¡å…³ç³»ï¼Œéœ€è¦æ˜¾å¼åœ°æŒ‡å®šã€‚</p>
<p>Gulp 4 ä¹‹å‰å¯ä»¥é€šè¿‡è¿™æ ·çš„æ–¹å¼å°†ä»»åŠ¡ä¸²èµ·æ¥ï¼š</p>
<div class="highlight"><pre><span></span><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;build&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;task_1&#39;</span><span class="p">,</span> <span class="s1">&#39;task_2&#39;</span><span class="p">]);</span>  <span class="c1">// task_1 ä¸ task_2 ä¸­éœ€è¦å°†æ–‡ä»¶æµ return</span>
</pre></div>
<p>Gulp 4 èµ·ä»¥ä¸Šæ–¹å¼ä¸å†å¯è¡Œã€‚ç”¨ä»¥æ›¿æ¢çš„ï¼ŒGulp æä¾›äº†ä¸¤ä¸ªæ–¹æ³•ç”¨ä»¥æ˜¾å¼åœ°æŒ‡å®šå¹¶å‘ä¸ä¸²è¡Œå…³ç³»ï¼š</p>
<div class="highlight"><pre><span></span><span class="nx">gulp</span><span class="p">.</span><span class="nx">parallel</span><span class="p">(</span><span class="s1">&#39;task_1&#39;</span><span class="p">,</span> <span class="s1">&#39;task_2&#39;</span><span class="p">,</span> <span class="s1">&#39;task_3&#39;</span><span class="p">);</span>  <span class="c1">// å¹¶å‘</span>
<span class="nx">gulp</span><span class="p">.</span><span class="nx">series</span><span class="p">(</span><span class="s1">&#39;task_1&#39;</span><span class="p">,</span> <span class="s1">&#39;task_2&#39;</span><span class="p">,</span> <span class="s1">&#39;task_3&#39;</span><span class="p">);</span> <span class="c1">// ä¸²è¡Œ</span>
</pre></div>
<p>å®ƒä»¬å¯ä»¥åµŒå¥—ï¼š</p>
<div class="highlight"><pre><span></span><span class="nx">gulp</span><span class="p">.</span><span class="nx">series</span><span class="p">(</span><span class="s1">&#39;task_1&#39;</span><span class="p">,</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">parallel</span><span class="p">(</span><span class="s1">&#39;task_2&#39;</span><span class="p">,</span> <span class="s1">&#39;task_3&#39;</span><span class="p">),</span> <span class="s1">&#39;task_4&#39;</span><span class="p">);</span>
</pre></div>
<p>æ•ˆæœæ˜¯å…ˆæ‰§è¡Œ task_1ï¼Œç„¶åå¹¶å‘æ‰§è¡Œ task_2ã€task_3ï¼Œç„¶åæ‰§è¡Œ task_4ã€‚</p>
<p>å¯¹æœ¬æ–‡ä¸­çš„ä¾‹å­ï¼Œå£°æ˜ä¸€ä¸ªæ€»çš„ build ä»»åŠ¡ï¼š</p>
<div class="highlight"><pre><span></span><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;build&#39;</span><span class="p">,</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">series</span><span class="p">(</span><span class="s1">&#39;clean:build&#39;</span><span class="p">,</span> <span class="s1">&#39;md5&#39;</span><span class="p">,</span> <span class="s1">&#39;replace&#39;</span><span class="p">));</span>
</pre></div>
<p>ç›´æ¥æ‰§è¡Œè¯¥ä»»åŠ¡å³å¯çœ‹åˆ°æ•ˆæœã€‚</p>
<h2>ç›‘è§†æ›´æ”¹</h2>
<p>ä½¿ç”¨ <code>gulp.watch()</code> å¯ä»¥å®ç°ç›‘è§†æ–‡ä»¶ï¼Œå½“æ–‡ä»¶æ›´æ”¹æ—¶ç«‹å³æ‰§è¡Œä»»åŠ¡ã€‚</p>
<div class="highlight"><pre><span></span><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;watch&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="k">return</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">watch</span><span class="p">(</span><span class="s1">&#39;dev/*&#39;</span><span class="p">,</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">series</span><span class="p">(</span><span class="s1">&#39;clean:build&#39;</span><span class="p">,</span> <span class="s1">&#39;md5&#39;</span><span class="p">,</span> <span class="s1">&#39;replace&#39;</span><span class="p">));</span>
<span class="p">});</span>
</pre></div>
<p>å½“ dev ç›®å½•ä¸‹çš„æ–‡ä»¶æ›´æ”¹æ—¶ï¼Œç«‹å³æ‰§è¡Œ <code>'clean:build', 'md5', 'replace'</code> ã€‚</p>
<h2>æ‹·è´æ–‡ä»¶</h2>
<p>å…¶å®æ²¡å¿…è¦å•ç‹¬æ‹å‡ºæ¥è¯´ï¼Œä½†å…¶ä¸­æœ‰ä¸€ä¸ª trickï¼Œè®°å½•ä¸€ä¸‹ã€‚è‹¥æœ‰è¿™æ ·çš„ç›®å½•ç»“æ„ï¼š</p>

<pre><code>dev
   |-- vendor
       |-- lib1
           |-- lib1.js
           |-- lib1.css
       |-- lib2
           |-- lib2.js
           |-- lib2.css
       |-- lib3
           |-- lib3.js
           |-- lib3.css
   |-- app.js
   |-- app.css
   |-- index.html
build</code></pre>
<p>ç›®çš„æ˜¯å°† dev/vendor ä¸­çš„<strong>æ‰€æœ‰</strong>æ–‡ä»¶å¤¹å®Œæ•´æ‹·è´è‡³ build ç›®å½•ã€‚å®é™…ä¸Šï¼ŒGulp çš„æ‹·è´å°±æ˜¯ä¸æ‰§è¡Œä»»ä½•ä¸­é—´æ“ä½œçš„ src ä¸ destï¼Œå› æ­¤å¾ˆå®¹æ˜“ï¼š</p>
<div class="highlight"><pre><span></span><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;move&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="k">return</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">(</span><span class="s1">&#39;dev/vendor/**/*&#39;</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;build/&#39;</span><span class="p">));</span>
<span class="p">})</span>
</pre></div>
<p>ä½†æ˜¯ï¼Œè‹¥è¦ä»…æŠŠ dev/vendor/lib1 ä¸ dev/vendor/lib2 æ–‡ä»¶å¤¹æ‹·è´è‡³ build ç›®å½•ï¼Œè¿™æ ·çš„ä»£ç æ˜¯é”™è¯¯çš„ï¼š</p>
<div class="highlight"><pre><span></span><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;move&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="k">return</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">([</span><span class="s1">&#39;dev/vendor/lib1/*&#39;</span><span class="p">,</span> <span class="s1">&#39;dev/vendor/lib2/*&#39;</span><span class="p">])</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;build/&#39;</span><span class="p">));</span>  <span class="c1">// ä¸¢å¤±ç›®å½•ç»“æ„</span>
<span class="p">})</span>
</pre></div>
<p>å› ä¸ºä½ ä¼šçœ‹åˆ°è¿™æ ·çš„ç»“æœï¼š</p>

<pre><code>build
    |-- lib1.js
    |-- lib1.css
    |-- lib2.js
    |-- lib2.css</code></pre>
<p>å¾ˆæ­£å¸¸çš„ï¼Œä¸¢å¤±äº†ç›®å½•ç»“æ„ã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œéœ€è¦ç”¨åˆ° <code>gulp.src()</code> çš„ <code>base</code> å‚æ•°ï¼š</p>
<div class="highlight"><pre><span></span><span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;move&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="k">return</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">([</span><span class="s1">&#39;dev/vendor/lib1/*&#39;</span><span class="p">,</span> <span class="s1">&#39;dev/vendor/lib2/*&#39;</span><span class="p">],</span> <span class="p">{</span>
                <span class="nx">base</span><span class="o">:</span> <span class="s1">&#39;dev/vendor/&#39;</span>
            <span class="p">})</span>
        <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;build/&#39;</span><span class="p">));</span>  <span class="c1">// ä¿æŒç›®å½•ç»“æ„</span>
<span class="p">})</span>
</pre></div>
<p>åˆ™å¯ä»¥å¾—åˆ°æ­£ç¡®çš„ç»“æœï¼š</p>

<pre><code>build
    |-- lib1
        |-- lib1.js
        |-- lib1.css
    |-- lib2
        |-- lib2.js
        |-- lib2.css</code></pre>
<h2>æ€»ç»“</h2>
<p>ä»¥ä¸Šä»‹ç»äº†æˆ‘ä¸Šæ‰‹ Gulp çš„ä¸€äº›è¿‡ç¨‹ã€‚VOID ä¸»é¢˜ç°åœ¨å·²ç»ä½¿ç”¨ Gulp è‡ªåŠ¨åŒ–æ„å»ºï¼Œæ•ˆæœå¦™ä¸å¯è¨€ã€‚å…¶ä½¿ç”¨çš„ gulpfile.js è§ <a href="https://github.com/AlanDecode/Typecho-Theme-VOID/blob/master/gulpfile.js">GitHub</a>ï¼Œé™¤äº†é™æ€æ–‡ä»¶åŠ æˆ³ï¼Œè¿˜æœ‰ CSS é¢„å¤„ç†ã€å‹ç¼©ã€åˆå¹¶ï¼ŒJS æ··æ·†ã€å‹ç¼©ã€åˆå¹¶ç­‰æµç¨‹ï¼Œè‹¥æœ‰é”™æ¼è¿˜è¯·èµæ•™ã€‚</p>
<p>æ˜¨å¤©æ™šä¸Šåˆ°ä»Šå¤©ä¸Šåˆæˆ‘ä¸€ç›´åœ¨ç ”ç©¶ Gulpï¼Œç›®å‰åªæ˜¯åˆæ­¥çš„ä¸Šæ‰‹è€Œå·²ã€‚è¿™æ ·çš„å·¥å…·ï¼Œç›¸è§æ¨æ™šå•Šã€‚</p>

            </div>
        </article>
        <div id="ga-tags">
    
    <span class="ga-tag">
        <a class="ga-highlight" href="https://blog.imalan.cn/tag/å‰ç«¯/">#å‰ç«¯</a>
    </span>
    
    <span class="ga-tag">
        <a class="ga-highlight" href="https://blog.imalan.cn/tag/VOIDç¬”è®°/">#VOIDç¬”è®°</a>
    </span>
    
</div>

<!--katex-->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/assets/katex.min.css">
<script defer src="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/assets/katex.min.js"></script>
<script>
mathOpts = {
    delimiters: [
        {left: "$$", right: "$$", display: true},
        {left: "\\[", right: "\\]", display: true},
        {left: "$", right: "$", display: false},
        {left: "\\(", right: "\\)", display: false}
    ]
};
</script>
<script defer src="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/assets/auto-render.min.js" onload="renderMathInElement(document.body, mathOpts);"></script>
    </section>

    
<section id="ga-content_pager">

    <div class="next">
        <a class="ga-highlight" href="https://blog.imalan.cn/archives/323/">Typecho Theme Q çºªå¿µç¢‘</a>
        <p class="yue">Typecho Theme Q æ˜¯æˆ‘å†™çš„ä¸€æ¬¾ Typecho ä¸»é¢˜ã€‚</p>
    </div>


    <div class="prev">
        <a class="ga-highlight" href="https://blog.imalan.cn/archives/247/">VOIDï¼šç°åœ¨å¯ä»¥å…¬å¼€çš„æƒ…æŠ¥</a>
        <p class="yue">ğŸ’ çŒ´å­æ‰“å­—æœºåŸç†çš„äº§ç‰©</p>
    </div>

</section>


    
        <script>
            var initValine = function () {
                new Valine({
                    el: '#vcomments',
                    appId: '6chFXPTjrjYnjFk9duROcboN-gzGzoHsz',
                    appKey: 'c1CRooaFmpLs4xi7x3YLm3ma',
                    placeholder: 'æ¥ç•…æ‰€æ¬²è¨€å§~',
                    notify: false,
                    visitor: false,
                    
                    recordIP: true
                });
            }
        </script>
        <script defer src='https://cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js' onload="initValine()"></script>
        <div id="vcomments"></div>
    

</main>

                <footer class="ga-mono" id="ga-footer">
                    <section>
                        <span id="ga-uptime"></span>
                        <span class="brand">æ— æ–‡å­— | ä¸‰æ— è®¡åˆ’</span>
                    </section>
                    <section>
                        <p class="copyright">
                            <span>Copyright Â© 2019 ç†ŠçŒ«å°A</span>
                            <span>Powered by <a no-style href="https://github.com/AlanDecode/Maverick" target="_blank">Maverick & Galileo</a></span>
                        </p>
                        <div class="copyright">
                            <span class="footer-addon">
                                
<a no-style href="http://www.miitbeian.gov.cn/" target="_blank">äº¬ ICP å¤‡ 18000133 å·</a> | 
<a no-style href="https://www.upyun.com" target="_blank">åˆæ‹äº‘</a>

                            </span>
                            <nav class="social-links">
                                <ul><li><a class="no-style" title="Twitter" href="https://twitter.com/AlanDecode" target="_blank"><i class="gi gi-twitter"></i>Twitter</a></li><span class="separator">Â·</span><li><a class="no-style" title="GitHub" href="https://github.com/AlanDecode" target="_blank"><i class="gi gi-github"></i>GitHub</a></li><span class="separator">Â·</span><li><a class="no-style" title="Weibo" href="https://weibo.com/5245109677/" target="_blank"><i class="gi gi-weibo"></i>Weibo</a></li></ul>
                            </nav>
                        </div>
                    </section>
                    <script>
                        var site_build_date = "2017-06-29T12:00+08:00"
                    </script>
                    <script src="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/assets/galileo-d8a0a06eff.js"></script>
                </footer>
            </div>
        </div>
    </div>
        
        
        <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="pswp__bg"></div>
        <div class="pswp__scroll-wrap">
            <div class="pswp__container">
                <div class="pswp__item"></div>
                <div class="pswp__item"></div>
                <div class="pswp__item"></div>
            </div>
            <div class="pswp__ui pswp__ui--hidden">
                <div class="pswp__top-bar">
                    <div class="pswp__counter"></div>
                    <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                    <button class="pswp__button pswp__button--share" title="Share"></button>
                    <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                    <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                    <div class="pswp__preloader">
                        <div class="pswp__preloader__icn">
                          <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                          </div>
                        </div>
                    </div>
                </div>
                <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                    <div class="pswp__share-tooltip"></div> 
                </div>
                <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
                </button>
                <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
                </button>
                <div class="pswp__caption">
                    <div class="pswp__caption__center"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/assets/ExSearch/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/AlanDecode/site-Blog@gh-pages/assets/ExSearch/ExSearch-493cb9cd89.js"></script>

    
<script>
    var _hmt = _hmt || [];
    (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?e4f3a7c02ac2aabc41a1cfa95f61a026";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
    })();
</script>
<script>
    (function(){
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        }
        else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>
<script>
if(window.location.hash){
    var checkExist = setInterval(function() {
       if ($(window.location.hash).length) {
          $('html, body').animate({scrollTop: $(window.location.hash).offset().top-90}, 1000);
          clearInterval(checkExist);
       }
    }, 100);
}
</script>
<script>
if(window.navigator && navigator.serviceWorker) {
  caches.keys().then(function(cacheNames) {
    cacheNames.forEach(function(cacheName) {
      caches.delete(cacheName);
    });
  }).then(function(){
    console.log('Cache cleaned.');
  });
  navigator.serviceWorker.getRegistrations()
  .then(function(registrations) {
    for(let registration of registrations) {
      registration.unregister();
    }
  }).then(function(){
    console.log('Service Worker stopped.');
  });
}
</script>

    </body>
</html>